<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        .h_bartitle{
            font-size: 18px;
            /*fill: steelblue;*/
            text-anchor: middle;
        }
        .h_bartext{
            fill: white;
            text-anchor: middle;
        }
        .len_default text{
            fill:black
        }
        .len_black text{
            fill:white
        }
    </style>
    <script src="../lib/d3.min.js"></script>
    <!--<script src="../js/ucommon.js"></script>
    <script src = "../js/upie_basic.js"></script>-->
    <script src="../dist/uchart.debug.js"></script>
</head>
<body>
    <div id="render"></div>
    <script>
        var dataset  = [{
            "name":"IBM",
            "value":5
        },{
            "name":"BMC",
            "value":10
        },{
            "name":"Oracle",
            "value":13
        },{
            "name":"HP",
            "value":19
        },{
            "name":"CISCO",
            "value":21
        },{
            "name":"UINNOVA",
            "value":25
        },{
            "name":"JOYWINTECH",
            "value":22
        }];

        var options = {
            //color :["green","gray","red","black","orange","pink","blue"]
            //themes:"default"
            //data:dataset,
            //type:0,
            //size:"600,400",
            //render:"id,render",
            //size与render只能写在options里或者用对象设置，不可一个把size写在options里，render用对象设置，
            // 因为如果用对象设置render时size还没有设置，此时render已经创建了
            //title:"分数统计",
            //titleColor:"steelblue",
            //icon:true
        }


        var piegram = new upieb();
        piegram.setCircle(false);//是否生成圆环
        piegram.bindData(dataset);
        piegram.setType(0);
        piegram.setSize(600,400);
        piegram.setTitle("分数统计");
        piegram.setIcon(true);
        piegram.createRender("id","render");
        piegram.setThemes("default");
        piegram.draw(options);


        setInterval(function () {
            for(var i = 0 ; i < 7 ; i++){
                dataset[i].value = Math.floor(Math.random() * 100);
            }
            piegram.update(dataset);
        },2000);

    </script>
</body>
</html>